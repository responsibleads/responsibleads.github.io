!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vega"),require("vega-lite")):"function"==typeof define&&define.amd?define(["vega","vega-lite"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).vegaEmbed=t(e.vega,e.vegaLite)}(this,(function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(e),o=r(t);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function i(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))}
/*!
     * https://github.com/Starcounter-Jack/JSON-Patch
     * (c) 2017 Joachim Wester
     * MIT license
     */var a,s=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=Object.prototype.hasOwnProperty;function c(e,t){return l.call(e,t)}function p(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);t=[];for(var n in e)c(e,n)&&t.push(n);return t}function d(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function u(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function f(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function h(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function g(e,t){var r=[e];for(var n in t){var o="object"==typeof t[n]?JSON.stringify(t[n],null,2):t[n];void 0!==o&&r.push(n+": "+o)}return r.join("\n")}var v=function(e){function t(t,r,n,o,i){var a=this.constructor,s=e.call(this,g(t,{name:r,index:n,operation:o,tree:i}))||this;return s.name=r,s.index=n,s.operation=o,s.tree=i,Object.setPrototypeOf(s,a.prototype),s.message=g(t,{name:r,index:n,operation:o,tree:i}),s}return s(t,e),t}(Error),m=v,E=d,b={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=O(r,this.path);n&&(n=d(n));var o=w(r,{op:"remove",path:this.from}).removed;return w(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=O(r,this.from);return w(r,{op:"add",path:this.path,value:d(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:N(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},y={add:function(e,t,r){return u(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:b.move,copy:b.copy,test:b.test,_get:b._get};function O(e,t){if(""==t)return e;var r={op:"_get",path:t};return w(e,r),r.value}function w(e,t,r,n,o,i){if(void 0===r&&(r=!1),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===i&&(i=0),r&&("function"==typeof r?r(t,0,e,t.path):A(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=O(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=N(e,t.value),!1===a.test)throw new m("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(r)throw new m("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return a}n||(e=d(e));var s=(t.path||"").split("/"),l=e,c=1,p=s.length,f=void 0,g=void 0,v=void 0;for(v="function"==typeof r?r:A;;){if(g=s[c],o&&"__proto__"==g)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===f&&(void 0===l[g]?f=s.slice(0,c).join("/"):c==p-1&&(f=t.path),void 0!==f&&v(t,0,e,f)),c++,Array.isArray(l)){if("-"===g)g=l.length;else{if(r&&!u(g))throw new m("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);u(g)&&(g=~~g)}if(c>=p){if(r&&"add"===t.op&&g>l.length)throw new m("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);if(!1===(a=y[t.op].call(t,l,g,e)).test)throw new m("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a}}else if(g&&-1!=g.indexOf("~")&&(g=h(g)),c>=p){if(!1===(a=b[t.op].call(t,l,g,e)).test)throw new m("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a}l=l[g]}}function I(e,t,r,n,o){if(void 0===n&&(n=!0),void 0===o&&(o=!0),r&&!Array.isArray(t))throw new m("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=d(e));for(var i=new Array(t.length),a=0,s=t.length;a<s;a++)i[a]=w(e,t[a],r,!0,o,a),e=i[a].newDocument;return i.newDocument=e,i}function A(e,t,r,n){if("object"!=typeof e||null===e||Array.isArray(e))throw new m("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!b[e.op])throw new m("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new m("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new m('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new m("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(e(t[r]))return!0}else if("object"==typeof t){var o=p(t),i=o.length;for(r=0;r<i;r++)if(e(t[o[r]]))return!0}return!1}(e.value))throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var o=e.path.split("/").length,i=n.split("/").length;if(o!==i+1&&o!==i)throw new m("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==n)throw new m("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var a=R([{op:"_get",path:e.from,value:void 0}],r);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new m("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function R(e,t,r){try{if(!Array.isArray(e))throw new m("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)I(d(t),d(e),r||!0);else{r=r||A;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(e){if(e instanceof m)return e;throw e}}function N(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,n,o,i=Array.isArray(e),a=Array.isArray(t);if(i&&a){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!N(e[r],t[r]))return!1;return!0}if(i!=a)return!1;var s=Object.keys(e);if((n=s.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!t.hasOwnProperty(s[r]))return!1;for(r=n;0!=r--;)if(!N(e[o=s[r]],t[o]))return!1;return!0}return e!=e&&t!=t}var $=Object.freeze({__proto__:null,JsonPatchError:m,deepClone:E,getValueByPointer:O,applyOperation:w,applyPatch:I,applyReducer:function(e,t,r){var n=w(e,t);if(!1===n.test)throw new m("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument},validator:A,validate:R,_areEquals:N}),T=new WeakMap,L=function(e){this.observers=new Map,this.obj=e},S=function(e,t){this.callback=e,this.observer=t};
/*!
     * https://github.com/Starcounter-Jack/JSON-Patch
     * (c) 2017 Joachim Wester
     * MIT license
     */function x(e,t){void 0===t&&(t=!1);var r=T.get(e.object);C(r.value,e.object,e.patches,"",t),e.patches.length&&I(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function C(e,t,r,n,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var i=p(t),a=p(e),s=!1,l=a.length-1;l>=0;l--){var u=e[g=a[l]];if(!c(t,g)||void 0===t[g]&&void 0!==u&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&r.push({op:"test",path:n+"/"+f(g),value:d(u)}),r.push({op:"remove",path:n+"/"+f(g)}),s=!0):(o&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}));else{var h=t[g];"object"==typeof u&&null!=u&&"object"==typeof h&&null!=h?C(u,h,r,n+"/"+f(g),o):u!==h&&(o&&r.push({op:"test",path:n+"/"+f(g),value:d(u)}),r.push({op:"replace",path:n+"/"+f(g),value:d(h)}))}}if(s||i.length!=a.length)for(l=0;l<i.length;l++){var g;c(e,g=i[l])||void 0===t[g]||r.push({op:"add",path:n+"/"+f(g),value:d(t[g])})}}}var D=Object.freeze({__proto__:null,unobserve:function(e,t){t.unobserve()},observe:function(e,t){var r,n=function(e){return T.get(e)}(e);if(n){var o=function(e,t){return e.observers.get(t)}(n,t);r=o&&o.observer}else n=new L(e),T.set(e,n);if(r)return r;if(r={},n.value=d(e),t){r.callback=t,r.next=null;var i=function(){x(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(i)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=[],r.object=e,r.unobserve=function(){x(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},n.observers.set(t,new S(t,r)),r},generate:x,compare:function(e,t,r){void 0===r&&(r=!1);var n=[];return C(e,t,n,"",r),n}});Object.assign({},$,D,{JsonPatchError:v,deepClone:d,escapePathComponent:f,unescapePathComponent:h});var F=/("(?:[^\\"]|\\.)*")|[:,]/g,P=function(e,t){var r,n,o;return t=t||{},r=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),n=""===r?1/0:void 0===t.maxLength?80:t.maxLength,o=t.replacer,function e(t,i,a){var s,l,c,p,d,u,f,h,g,v,m,E;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(m=JSON.stringify(t,o)))return m;if(f=n-i.length-a,m.length<=f&&(g=m.replace(F,(function(e,t){return t||e+" "}))).length<=f)return g;if(null!=o&&(t=JSON.parse(m),o=void 0),"object"==typeof t&&null!==t){if(h=i+r,c=[],l=0,Array.isArray(t))for(v="[",s="]",f=t.length;l<f;l++)c.push(e(t[l],h,l===f-1?0:1)||"null");else for(v="{",s="}",f=(u=Object.keys(t)).length;l<f;l++)p=u[l],d=JSON.stringify(p)+": ",void 0!==(E=e(t[p],h,d.length+(l===f-1?0:1)))&&c.push(d+E);if(c.length>0)return[v,r+c.join(",\n"+h),s].join("\n"+i)}return m}(e,"",0)};function _(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var j={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var z="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},M=k((function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=j,n=(t=e.exports={}).re=[],o=t.src=[],i=t.t={};let a=0;const s=(e,t,r)=>{const s=a++;z(s,t),i[e]=s,o[s]=t,n[s]=new RegExp(t,r?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION",`(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})`),s("MAINVERSIONLOOSE",`(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})`),s("PRERELEASEIDENTIFIER",`(?:${o[i.NUMERICIDENTIFIER]}|${o[i.NONNUMERICIDENTIFIER]})`),s("PRERELEASEIDENTIFIERLOOSE",`(?:${o[i.NUMERICIDENTIFIERLOOSE]}|${o[i.NONNUMERICIDENTIFIER]})`),s("PRERELEASE",`(?:-(${o[i.PRERELEASEIDENTIFIER]}(?:\\.${o[i.PRERELEASEIDENTIFIER]})*))`),s("PRERELEASELOOSE",`(?:-?(${o[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[i.PRERELEASEIDENTIFIERLOOSE]})*))`),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD",`(?:\\+(${o[i.BUILDIDENTIFIER]}(?:\\.${o[i.BUILDIDENTIFIER]})*))`),s("FULLPLAIN",`v?${o[i.MAINVERSION]}${o[i.PRERELEASE]}?${o[i.BUILD]}?`),s("FULL",`^${o[i.FULLPLAIN]}$`),s("LOOSEPLAIN",`[v=\\s]*${o[i.MAINVERSIONLOOSE]}${o[i.PRERELEASELOOSE]}?${o[i.BUILD]}?`),s("LOOSE",`^${o[i.LOOSEPLAIN]}$`),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE",o[i.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),s("XRANGEIDENTIFIER",o[i.NUMERICIDENTIFIER]+"|x|X|\\*"),s("XRANGEPLAIN",`[v=\\s]*(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:${o[i.PRERELEASE]})?${o[i.BUILD]}?)?)?`),s("XRANGEPLAINLOOSE",`[v=\\s]*(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:${o[i.PRERELEASELOOSE]})?${o[i.BUILD]}?)?)?`),s("XRANGE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAIN]}$`),s("XRANGELOOSE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAINLOOSE]}$`),s("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),s("COERCERTL",o[i.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM",`(\\s*)${o[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",s("TILDE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAIN]}$`),s("TILDELOOSE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAINLOOSE]}$`),s("LONECARET","(?:\\^)"),s("CARETTRIM",`(\\s*)${o[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",s("CARET",`^${o[i.LONECARET]}${o[i.XRANGEPLAIN]}$`),s("CARETLOOSE",`^${o[i.LONECARET]}${o[i.XRANGEPLAINLOOSE]}$`),s("COMPARATORLOOSE",`^${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]})$|^$`),s("COMPARATOR",`^${o[i.GTLT]}\\s*(${o[i.FULLPLAIN]})$|^$`),s("COMPARATORTRIM",`(\\s*)${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]}|${o[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE",`^\\s*(${o[i.XRANGEPLAIN]})\\s+-\\s+(${o[i.XRANGEPLAIN]})\\s*$`),s("HYPHENRANGELOOSE",`^\\s*(${o[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[i.XRANGEPLAINLOOSE]})\\s*$`),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0.0.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));const B=/^[0-9]+$/,G=(e,t)=>{const r=B.test(e),n=B.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var U={compareIdentifiers:G,rcompareIdentifiers:(e,t)=>G(t,e)};const{MAX_LENGTH:X,MAX_SAFE_INTEGER:V}=j,{re:W,t:H}=M,{compareIdentifiers:q}=U;class Y{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Y){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>X)throw new TypeError(`version is longer than ${X} characters`);z("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?W[H.LOOSE]:W[H.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>V||this.major<0)throw new TypeError("Invalid major version");if(this.minor>V||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>V||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<V)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(z("SemVer.compare",this.version,this.options,e),!(e instanceof Y)){if("string"==typeof e&&e===this.version)return 0;e=new Y(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Y||(e=new Y(e,this.options)),q(this.major,e.major)||q(this.minor,e.minor)||q(this.patch,e.patch)}comparePre(e){if(e instanceof Y||(e=new Y(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(z("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return q(r,n)}while(++t)}compareBuild(e){e instanceof Y||(e=new Y(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(z("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return q(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}var J=Y;const{MAX_LENGTH:Q}=j,{re:Z,t:K}=M;var ee=(e,t)=>{if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof J)return e;if("string"!=typeof e)return null;if(e.length>Q)return null;if(!(t.loose?Z[K.LOOSE]:Z[K.FULL]).test(e))return null;try{return new J(e,t)}catch(e){return null}};var te=(e,t)=>{const r=ee(e,t);return r?r.version:null};var re=(e,t)=>{const r=ee(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var ne=(e,t,r,n)=>{"string"==typeof r&&(n=r,r=void 0);try{return new J(e,r).inc(t,n).version}catch(e){return null}};var oe=(e,t,r)=>new J(e,r).compare(new J(t,r));var ie=(e,t,r)=>0===oe(e,t,r);var ae=(e,t)=>{if(ie(e,t))return null;{const r=ee(e),n=ee(t),o=r.prerelease.length||n.prerelease.length,i=o?"pre":"",a=o?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==n[e])return i+e;return a}};var se=(e,t)=>new J(e,t).major;var le=(e,t)=>new J(e,t).minor;var ce=(e,t)=>new J(e,t).patch;var pe=(e,t)=>{const r=ee(e,t);return r&&r.prerelease.length?r.prerelease:null};var de=(e,t,r)=>oe(t,e,r);var ue=(e,t)=>oe(e,t,!0);var fe=(e,t,r)=>{const n=new J(e,r),o=new J(t,r);return n.compare(o)||n.compareBuild(o)};var he=(e,t)=>e.sort((e,r)=>fe(e,r,t));var ge=(e,t)=>e.sort((e,r)=>fe(r,e,t));var ve=(e,t,r)=>oe(e,t,r)>0;var me=(e,t,r)=>oe(e,t,r)<0;var Ee=(e,t,r)=>0!==oe(e,t,r);var be=(e,t,r)=>oe(e,t,r)>=0;var ye=(e,t,r)=>oe(e,t,r)<=0;var Oe=(e,t,r,n)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return ie(e,r,n);case"!=":return Ee(e,r,n);case">":return ve(e,r,n);case">=":return be(e,r,n);case"<":return me(e,r,n);case"<=":return ye(e,r,n);default:throw new TypeError("Invalid operator: "+t)}};const{re:we,t:Ie}=M;var Ae=(e,t)=>{if(e instanceof J)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=we[Ie.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),we[Ie.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;we[Ie.COERCERTL].lastIndex=-1}else r=e.match(we[Ie.COERCE]);return null===r?null:ee(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};class Re{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Re)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Re(e.raw,t);if(e instanceof He)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=this.options.loose;e=e.trim();const r=t?$e[Te.HYPHENRANGELOOSE]:$e[Te.HYPHENRANGE];e=e.replace(r,Ue(this.options.includePrerelease)),z("hyphen replace",e),e=e.replace($e[Te.COMPARATORTRIM],Le),z("comparator trim",e,$e[Te.COMPARATORTRIM]),e=(e=(e=e.replace($e[Te.TILDETRIM],Se)).replace($e[Te.CARETTRIM],xe)).split(/\s+/).join(" ");const n=t?$e[Te.COMPARATORLOOSE]:$e[Te.COMPARATOR];return e.split(" ").map(e=>De(e,this.options)).join(" ").split(/\s+/).map(e=>Ge(e,this.options)).filter(this.options.loose?e=>!!e.match(n):()=>!0).map(e=>new He(e,this.options))}intersects(e,t){if(!(e instanceof Re))throw new TypeError("a Range is required");return this.set.some(r=>Ce(r,t)&&e.set.some(e=>Ce(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new J(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(Xe(this.set[t],e,this.options))return!0;return!1}}var Ne=Re;const{re:$e,t:Te,comparatorTrimReplace:Le,tildeTrimReplace:Se,caretTrimReplace:xe}=M,Ce=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every(e=>o.intersects(e,t)),o=n.pop();return r},De=(e,t)=>(z("comp",e,t),e=ke(e,t),z("caret",e),e=Pe(e,t),z("tildes",e),e=ze(e,t),z("xrange",e),e=Be(e,t),z("stars",e),e),Fe=e=>!e||"x"===e.toLowerCase()||"*"===e,Pe=(e,t)=>e.trim().split(/\s+/).map(e=>_e(e,t)).join(" "),_e=(e,t)=>{const r=t.loose?$e[Te.TILDELOOSE]:$e[Te.TILDE];return e.replace(r,(t,r,n,o,i)=>{let a;return z("tilde",e,t,r,n,o,i),Fe(r)?a="":Fe(n)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:Fe(o)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(z("replaceTilde pr",i),a=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`):a=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,z("tilde return",a),a})},ke=(e,t)=>e.trim().split(/\s+/).map(e=>je(e,t)).join(" "),je=(e,t)=>{z("caret",e,t);const r=t.loose?$e[Te.CARETLOOSE]:$e[Te.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,o,i,a)=>{let s;return z("caret",e,t,r,o,i,a),Fe(r)?s="":Fe(o)?s=`>=${r}.0.0${n} <${+r+1}.0.0-0`:Fe(i)?s="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:a?(z("replaceCaret pr",a),s="0"===r?"0"===o?`>=${r}.${o}.${i}-${a} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}-${a} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i}-${a} <${+r+1}.0.0-0`):(z("no pr"),s="0"===r?"0"===o?`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i} <${+r+1}.0.0-0`),z("caret return",s),s})},ze=(e,t)=>(z("replaceXRanges",e,t),e.split(/\s+/).map(e=>Me(e,t)).join(" ")),Me=(e,t)=>{e=e.trim();const r=t.loose?$e[Te.XRANGELOOSE]:$e[Te.XRANGE];return e.replace(r,(r,n,o,i,a,s)=>{z("xRange",e,r,n,o,i,a,s);const l=Fe(o),c=l||Fe(i),p=c||Fe(a),d=p;return"="===n&&d&&(n=""),s=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(c&&(i=0),a=0,">"===n?(n=">=",c?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===n&&(n="<",c?o=+o+1:i=+i+1),"<"===n&&(s="-0"),r=`${n+o}.${i}.${a}${s}`):c?r=`>=${o}.0.0${s} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${i}.0${s} <${o}.${+i+1}.0-0`),z("xRange return",r),r})},Be=(e,t)=>(z("replaceStars",e,t),e.trim().replace($e[Te.STAR],"")),Ge=(e,t)=>(z("replaceGTE0",e,t),e.trim().replace($e[t.includePrerelease?Te.GTE0PRE:Te.GTE0],"")),Ue=e=>(t,r,n,o,i,a,s,l,c,p,d,u,f)=>`${r=Fe(n)?"":Fe(o)?`>=${n}.0.0${e?"-0":""}`:Fe(i)?`>=${n}.${o}.0${e?"-0":""}`:a?">="+r:`>=${r}${e?"-0":""}`} ${l=Fe(c)?"":Fe(p)?`<${+c+1}.0.0-0`:Fe(d)?`<${c}.${+p+1}.0-0`:u?`<=${c}.${p}.${d}-${u}`:e?`<${c}.${p}.${+d+1}-0`:"<="+l}`.trim(),Xe=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(z(e[r].semver),e[r].semver!==He.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0},Ve=Symbol("SemVer ANY");class We{static get ANY(){return Ve}constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof We){if(e.loose===!!t.loose)return e;e=e.value}z("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Ve?this.value="":this.value=this.operator+this.semver.version,z("comp",this)}parse(e){const t=this.options.loose?qe[Ye.COMPARATORLOOSE]:qe[Ye.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new J(r[2],this.options.loose):this.semver=Ve}toString(){return this.value}test(e){if(z("Comparator.test",e,this.options.loose),this.semver===Ve||e===Ve)return!0;if("string"==typeof e)try{e=new J(e,this.options)}catch(e){return!1}return Oe(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof We))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new Ne(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new Ne(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=Oe(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),s=Oe(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||o&&i||a||s}}var He=We;const{re:qe,t:Ye}=M;var Je=(e,t,r)=>{try{t=new Ne(t,r)}catch(e){return!1}return t.test(e)};var Qe=(e,t)=>new Ne(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "));var Ze=(e,t,r)=>{let n=null,o=null,i=null;try{i=new Ne(t,r)}catch(e){return null}return e.forEach(e=>{i.test(e)&&(n&&-1!==o.compare(e)||(n=e,o=new J(n,r)))}),n};var Ke=(e,t,r)=>{let n=null,o=null,i=null;try{i=new Ne(t,r)}catch(e){return null}return e.forEach(e=>{i.test(e)&&(n&&1!==o.compare(e)||(n=e,o=new J(n,r)))}),n};var et=(e,t)=>{e=new Ne(e,t);let r=new J("0.0.0");if(e.test(r))return r;if(r=new J("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){e.set[t].forEach(e=>{const t=new J(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!ve(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}return r&&e.test(r)?r:null};var tt=(e,t)=>{try{return new Ne(e,t).range||"*"}catch(e){return null}};const{ANY:rt}=He;var nt=(e,t,r,n)=>{let o,i,a,s,l;switch(e=new J(e,n),t=new Ne(t,n),r){case">":o=ve,i=ye,a=me,s=">",l=">=";break;case"<":o=me,i=be,a=ve,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Je(e,t,n))return!1;for(let r=0;r<t.set.length;++r){const c=t.set[r];let p=null,d=null;if(c.forEach(e=>{e.semver===rt&&(e=new He(">=0.0.0")),p=p||e,d=d||e,o(e.semver,p.semver,n)?p=e:a(e.semver,d.semver,n)&&(d=e)}),p.operator===s||p.operator===l)return!1;if((!d.operator||d.operator===s)&&i(e,d.semver))return!1;if(d.operator===l&&a(e,d.semver))return!1}return!0};var ot=(e,t,r)=>nt(e,t,">",r);var it=(e,t,r)=>nt(e,t,"<",r);var at=(e,t,r)=>(e=new Ne(e,r),t=new Ne(t,r),e.intersects(t));const{ANY:st}=He,lt=(e,t,r)=>{if(1===e.length&&e[0].semver===st)return 1===t.length&&t[0].semver===st;const n=new Set;let o,i,a,s,l,c,p;for(const t of e)">"===t.operator||">="===t.operator?o=ct(o,t,r):"<"===t.operator||"<="===t.operator?i=pt(i,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&i){if(a=oe(o.semver,i.semver,r),a>0)return null;if(0===a&&(">="!==o.operator||"<="!==i.operator))return null}for(const e of n){if(o&&!Je(e,String(o),r))return null;if(i&&!Je(e,String(i),r))return null;for(const n of t)if(!Je(e,String(n),r))return!1;return!0}for(const e of t){if(p=p||">"===e.operator||">="===e.operator,c=c||"<"===e.operator||"<="===e.operator,o)if(">"===e.operator||">="===e.operator){if(s=ct(o,e,r),s===e)return!1}else if(">="===o.operator&&!Je(o.semver,String(e),r))return!1;if(i)if("<"===e.operator||"<="===e.operator){if(l=pt(i,e,r),l===e)return!1}else if("<="===i.operator&&!Je(i.semver,String(e),r))return!1;if(!e.operator&&(i||o)&&0!==a)return!1}return!(o&&c&&!i&&0!==a)&&!(i&&p&&!o&&0!==a)},ct=(e,t,r)=>{if(!e)return t;const n=oe(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},pt=(e,t,r)=>{if(!e)return t;const n=oe(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};var dt=(e,t,r)=>{e=new Ne(e,r),t=new Ne(t,r);let n=!1;e:for(const o of e.set){for(const e of t.set){const t=lt(o,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0},ut={re:M.re,src:M.src,tokens:M.t,SEMVER_SPEC_VERSION:j.SEMVER_SPEC_VERSION,SemVer:J,compareIdentifiers:U.compareIdentifiers,rcompareIdentifiers:U.rcompareIdentifiers,parse:ee,valid:te,clean:re,inc:ne,diff:ae,major:se,minor:le,patch:ce,prerelease:pe,compare:oe,rcompare:de,compareLoose:ue,compareBuild:fe,sort:he,rsort:ge,gt:ve,lt:me,eq:ie,neq:Ee,gte:be,lte:ye,cmp:Oe,coerce:Ae,Comparator:He,Range:Ne,satisfies:Je,toComparators:Qe,maxSatisfying:Ze,minSatisfying:Ke,minVersion:et,validRange:tt,outside:nt,gtr:ot,ltr:it,intersects:at,simplifyRange:(e,t,r)=>{const n=[];let o=null,i=null;const a=e.sort((e,t)=>oe(e,t,r));for(const e of a){Je(e,t,r)?(i=e,o||(o=e)):(i&&n.push([o,i]),i=null,o=null)}o&&n.push([o,null]);const s=[];for(const[e,t]of n)e===t?s.push(e):t||e!==a[0]?t?e===a[0]?s.push("<="+t):s.push(`${e} - ${t}`):s.push(">="+e):s.push("*");const l=s.join(" || "),c="string"==typeof t.raw?t.raw:String(t);return l.length<c.length?l:t},subset:dt},ft=_(k((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}})));const ht="#fff",gt={background:"#333",title:{color:ht},style:{"guide-label":{fill:ht},"guide-title":{fill:ht}},axis:{domainColor:ht,gridColor:"#888",tickColor:ht}},vt="#4572a7",mt={background:"#fff",arc:{fill:vt},area:{fill:vt},line:{stroke:vt,strokeWidth:2},path:{stroke:vt},rect:{fill:vt},shape:{stroke:vt},symbol:{fill:vt,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Et="#30a2da",bt="#cbcbcb",yt="#f0f0f0",Ot="#333",wt={arc:{fill:Et},area:{fill:Et},axis:{domainColor:bt,grid:!0,gridColor:bt,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:bt,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:yt,group:{fill:yt},legend:{labelColor:Ot,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Ot,titleFontSize:14,titlePadding:10},line:{stroke:Et,strokeWidth:2},path:{stroke:Et,strokeWidth:.5},rect:{fill:Et},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Et},bar:{binSpacing:2,fill:Et,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},It="#000",At={group:{fill:"#e5e5e5"},arc:{fill:It},area:{fill:It},line:{stroke:It},path:{stroke:It},rect:{fill:It},shape:{stroke:It},symbol:{fill:It,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Rt="Benton Gothic, sans-serif",Nt="#82c6df",$t="Benton Gothic Bold, sans-serif",Tt="normal",Lt={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},St={background:"#ffffff",title:{anchor:"start",color:"#000000",font:$t,fontSize:22,fontWeight:"normal"},arc:{fill:Nt},area:{fill:Nt},line:{stroke:Nt,strokeWidth:2},path:{stroke:Nt},rect:{fill:Nt},shape:{stroke:Nt},symbol:{fill:Nt,size:30},axis:{labelFont:Rt,labelFontSize:11.5,labelFontWeight:"normal",titleFont:$t,titleFontSize:13,titleFontWeight:Tt},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Rt,labelFontSize:11.5,symbolType:"square",titleFont:$t,titleFontSize:13,titleFontWeight:Tt},range:{category:Lt["category-6"],diverging:Lt["fireandice-6"],heatmap:Lt["fire-7"],ordinal:Lt["fire-7"],ramp:Lt["fire-7"]}},xt="#ab5787",Ct="#979797",Dt={background:"#f9f9f9",arc:{fill:xt},area:{fill:xt},line:{stroke:xt},path:{stroke:xt},rect:{fill:xt},shape:{stroke:xt},symbol:{fill:xt,size:30},axis:{domainColor:Ct,domainWidth:.5,gridWidth:.2,labelColor:Ct,tickColor:Ct,tickWidth:.2,titleColor:Ct},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Ft="#3e5c69",Pt={background:"#fff",arc:{fill:Ft},area:{fill:Ft},line:{stroke:Ft},path:{stroke:Ft},rect:{fill:Ft},shape:{stroke:Ft},symbol:{fill:Ft},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},_t="#1696d2",kt="#000000",jt="Lato",zt="Lato",Mt={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Bt={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:jt},axisX:{domain:!0,domainColor:kt,domainWidth:1,grid:!1,labelFontSize:12,labelFont:zt,labelAngle:0,tickColor:kt,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:jt},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:zt,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:jt,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:zt,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:jt,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Mt["six-groups-cat-1"],diverging:Mt["diverging-colors"],heatmap:Mt["diverging-colors"],ordinal:Mt["six-groups-seq"],ramp:Mt["shades-blue"]},area:{fill:_t},rect:{fill:_t},line:{color:_t,stroke:_t,strokeWidth:5},trail:{color:_t,stroke:_t,strokeWidth:0,size:1},path:{stroke:_t,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:_t,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:_t,stroke:null}},arc:{fill:_t},shape:{stroke:_t},symbol:{fill:_t,size:30}},Gt="#3366CC",Ut="#ccc",Xt="Arial, sans-serif",Vt={arc:{fill:Gt},area:{fill:Gt},path:{stroke:Gt},rect:{fill:Gt},shape:{stroke:Gt},symbol:{stroke:Gt},circle:{fill:Gt},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Xt,fontSize:12},"guide-title":{font:Xt,fontSize:12},"group-title":{font:Xt,fontSize:12}},title:{font:Xt,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Ut,tickColor:Ut,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Wt="2.8.5";var Ht=Object.freeze({__proto__:null,version:Wt,dark:gt,excel:mt,fivethirtyeight:wt,ggplot2:At,latimes:St,quartz:Dt,vox:Pt,urbaninstitute:Bt,googlecharts:Vt}),qt="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n";const Yt="vg-tooltip-element",Jt={offsetX:10,offsetY:10,id:Yt,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function Qt(e,t,r){return e.fields=t||[],e.fname=r,e}function Zt(e){return 1===e.length?Kt(e[0]):er(e)}const Kt=e=>function(t){return t[e]},er=e=>{const t=e.length;return function(r){for(let n=0;n<t;++n)r=r[e[n]];return r}};function tr(e){throw Error(e)}(function(e,t,r){const n=function(e){let t,r,n,o=[],i=null,a=0,s=e.length,l="";function c(){o.push(l+e.substring(t,r)),l="",t=r+1}for(e+="",t=r=0;r<s;++r)if(n=e[r],"\\"===n)l+=e.substring(t,r),l+=e.substring(++r,++r),t=r;else if(n===i)c(),i=null,a=-1;else{if(i)continue;t===a&&'"'===n||t===a&&"'"===n?(t=r+1,i=n):"."!==n||a?"["===n?(r>t&&c(),a=t=r+1):"]"===n&&(a||tr("Access path missing open bracket: "+e),a>0&&c(),a=0,t=r+1):r>t?c():t=r+1}return a&&tr("Access path missing closing bracket: "+e),i&&tr("Access path missing closing quote: "+e),r>t&&(r++,c()),o}(e);e=1===n.length?n[0]:e,Qt((r&&r.get||Zt)(n),[e],t||e)})("id"),Qt((function(e){return e}),[],"identity"),Qt((function(){return 0}),[],"zero"),Qt((function(){return 1}),[],"one"),Qt((function(){return!0}),[],"true"),Qt((function(){return!1}),[],"false");var rr=Array.isArray;function nr(e){return e===Object(e)}const or=e=>"__proto__"!==e;function ir(...e){return e.reduce((e,t)=>{for(const r in t)if("signals"===r)e.signals=sr(e.signals,t.signals);else{const n="legend"===r?{layout:1}:"style"===r||null;ar(e,r,t[r],n)}return e},{})}function ar(e,t,r,n){if(!or(t))return;let o,i;if(nr(r)&&!rr(r))for(o in i=nr(e[t])?e[t]:e[t]={},r)n&&(!0===n||n[o])?ar(i,o,r[o]):or(o)&&(i[o]=r[o]);else e[t]=r}function sr(e,t){if(null==e)return t;const r={},n=[];function o(e){r[e.name]||(r[e.name]=1,n.push(e))}return t.forEach(o),e.forEach(o),n}function lr(e){return"string"==typeof e}var cr=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};function pr(e,t){return JSON.stringify(e,function(e){const t=[];return function(r,n){if("object"!=typeof n||null===n)return n;const o=t.indexOf(this)+1;return t.length=o,t.length>e?"[Object]":t.indexOf(n)>=0?"[Circular]":(t.push(n),n)}}(t))}class dr{constructor(e){this.options=Object.assign(Object.assign({},Jt),e);const t=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return qt.toString().replace(Yt,e)}(t);const r=document.head;r.childNodes.length>0?r.insertBefore(e,r.childNodes[0]):r.appendChild(e)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(e,t,r,n){if(null==n||""===n)return void this.el.classList.remove("visible",this.options.theme+"-theme");this.el.innerHTML=function(e,t,r){if(rr(e))return`[${e.map(e=>t(lr(e)?e:pr(e,r))).join(", ")}]`;if(nr(e)){let n="";const o=e,{title:i,image:a}=o,s=cr(o,["title","image"]);i&&(n+=`<h2>${t(i)}</h2>`),a&&(n+=`<img src="${t(a)}">`);const l=Object.keys(s);if(l.length>0){n+="<table>";for(const e of l){let o=s[e];void 0!==o&&(nr(o)&&(o=pr(o,r)),n+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(o)}</td></tr>`)}n+="</table>"}return n||"{}"}return t(e)}(n,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",this.options.theme+"-theme");const{x:o,y:i}=function(e,t,r,n){let o=e.clientX+r;o+t.width>window.innerWidth&&(o=+e.clientX-r-t.width);let i=e.clientY+n;return i+t.height>window.innerHeight&&(i=+e.clientY-n-t.height),{x:o,y:i}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${i}px; left: ${o}px`)}}var ur,fr='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function hr(e,...t){for(const r of t)gr(e,r);return e}function gr(t,r){for(const n of Object.keys(r))e.writeConfig(t,n,r[n],!0)}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});const vr=n;let mr=o;const Er="undefined"!=typeof window?window:void 0;void 0===mr&&(null===(ur=null==Er?void 0:Er.vl)||void 0===ur?void 0:ur.compile)&&(mr=Er.vl);const br={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},yr={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Or={vega:"Vega","vega-lite":"Vega-Lite"},wr={vega:vr.version,"vega-lite":mr?mr.version:"not available"},Ir={vega:e=>e,"vega-lite":(e,t)=>mr.compile(e,{config:t}).spec},Ar='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',Rr="chart-wrapper";function Nr(e,t,r,n){const o=`<html><head>${t}</head><body><pre><code class="json">`,i=`</code></pre>${r}</body></html>`,a=window.open("");a.document.write(o+e+i),a.document.title=Or[n]+" JSON Source"}function $r(e,t,r={}){var n,o,a;return i(this,void 0,void 0,(function*(){const s=(l=r.loader)&&"load"in l?r.loader:vr.loader(r.loader);var l;const c=lr(t)?JSON.parse(yield s.load(t)):t,p=yield Tr(null!==(n=c.usermeta&&c.usermeta.embedOptions)&&void 0!==n?n:{},s),d=yield Tr(r,s),u=Object.assign(Object.assign({},hr(d,p)),{config:ir(null!==(o=d.config)&&void 0!==o?o:{},null!==(a=p.config)&&void 0!==a?a:{})});return yield function(e,t,r={},n){var o,a,s,l,c,p;return i(this,void 0,void 0,(function*(){const d=r.theme?ir(Ht[r.theme],null!==(o=r.config)&&void 0!==o?o:{}):r.config,u="boolean"==typeof r.actions?r.actions:hr({},br,null!==(a=r.actions)&&void 0!==a?a:{});const f=Object.assign(Object.assign({},yr),r.i18n),h=null!==(s=r.renderer)&&void 0!==s?s:"canvas",g=null!==(l=r.logLevel)&&void 0!==l?l:vr.Warn,v=null!==(c=r.downloadFileName)&&void 0!==c?c:"visualization",m="string"==typeof e?document.querySelector(e):e;if(!m)throw new Error(e+" does not exist");if(!1!==r.defaultStyle){const e="vega-embed-style",{root:t,rootContainer:n}=function(e){var t;const r=e.getRootNode?e.getRootNode():document;return r instanceof ShadowRoot?{root:r,rootContainer:r}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}(m);if(!t.getElementById(e)){const t=document.createElement("style");t.id=e,t.innerText=void 0===r.defaultStyle||!0===r.defaultStyle?fr.toString():r.defaultStyle,n.appendChild(t)}}const E=function(e,t){var r;if(e.$schema){const n=ft(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${Or[n.library]}, but mode argument sets ${null!==(r=Or[t])&&void 0!==r?r:t}.`);const o=n.library;return ut.satisfies(wr[o],"^"+n.version.slice(1))||console.warn(`The input spec uses ${Or[o]} ${n.version}, but the current version of ${Or[o]} is v${wr[o]}.`),o}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!=t?t:"vega"}(t,r.mode);let b=Ir[E](t,d);if("vega-lite"===E&&b.$schema){const e=ft(b.$schema);ut.satisfies(wr.vega,"^"+e.version.slice(1))||console.warn(`The compiled spec uses Vega ${e.version}, but current version is v${wr.vega}.`)}m.classList.add("vega-embed"),u&&m.classList.add("has-actions"),m.innerHTML="";let y=m;if(u){const e=document.createElement("div");e.classList.add(Rr),m.appendChild(e),y=e}const O=r.patch;O&&(b=O instanceof Function?O(b):I(b,O,!0,!1).newDocument),r.formatLocale&&vr.formatLocale(r.formatLocale),r.timeFormatLocale&&vr.timeFormatLocale(r.timeFormatLocale);const{ast:w}=r,A=vr.parse(b,"vega-lite"===E?{}:d,{ast:w}),R=new vr.View(A,Object.assign({loader:n,logLevel:g,renderer:h},w?{expr:vr.expressionInterpreter}:{}));if(!1!==r.tooltip){let e;e="function"==typeof r.tooltip?r.tooltip:new dr(!0===r.tooltip?{}:r.tooltip).call,R.tooltip(e)}let N,{hover:$}=r;if(void 0===$&&($="vega"===E),$){const{hoverSet:e,updateSet:t}="boolean"==typeof $?{}:$;R.hover(e,t)}if(r&&(null!=r.width&&R.width(r.width),null!=r.height&&R.height(r.height),null!=r.padding&&R.padding(r.padding)),yield R.initialize(y).runAsync(),!1!==u){let e=m;if(!1!==r.defaultStyle){const t=document.createElement("details");t.title=f.CLICK_TO_VIEW_ACTIONS,m.append(t),e=t;const r=document.createElement("summary");r.innerHTML=Ar,t.append(r),N=e=>{t.contains(e.target)||t.removeAttribute("open")},document.addEventListener("click",N)}const n=document.createElement("div");if(e.append(n),n.classList.add("vega-actions"),!0===u||!1!==u.export)for(const e of["svg","png"])if(!0===u||!0===u.export||u.export[e]){const t=f[e.toUpperCase()+"_ACTION"],o=document.createElement("a");o.text=t,o.href="#",o.target="_blank",o.download=`${v}.${e}`,o.addEventListener("mousedown",(function(t){return i(this,void 0,void 0,(function*(){t.preventDefault();const n=yield R.toImageURL(e,r.scaleFactor);this.href=n}))})),n.append(o)}if(!0===u||!1!==u.source){const e=document.createElement("a");e.text=f.SOURCE_ACTION,e.href="#",e.addEventListener("click",(function(e){var n,o;Nr(P(t),null!==(n=r.sourceHeader)&&void 0!==n?n:"",null!==(o=r.sourceFooter)&&void 0!==o?o:"",E),e.preventDefault()})),n.append(e)}if("vega-lite"===E&&(!0===u||!1!==u.compiled)){const e=document.createElement("a");e.text=f.COMPILED_ACTION,e.href="#",e.addEventListener("click",(function(e){var t,n;Nr(P(b),null!==(t=r.sourceHeader)&&void 0!==t?t:"",null!==(n=r.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),n.append(e)}if(!0===u||!1!==u.editor){const e=null!==(p=r.editorUrl)&&void 0!==p?p:"https://vega.github.io/editor/",o=document.createElement("a");o.text=f.EDITOR_ACTION,o.href="#",o.addEventListener("click",(function(r){!function(e,t,r){const n=e.open(t),{origin:o}=new URL(t);let i=40;e.addEventListener("message",(function t(r){r.source===n&&(i=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){i<=0||(n.postMessage(r,o),setTimeout(e,250),i-=1)}),250)}(window,e,{config:d,mode:E,renderer:h,spec:P(t)}),r.preventDefault()})),n.append(o)}}function T(){N&&document.removeEventListener("click",N),R.finalize()}return{view:R,spec:t,vgSpec:b,finalize:T}}))}(e,c,u,s)}))}function Tr(e,t){var r;return i(this,void 0,void 0,(function*(){const n=lr(e.config)?JSON.parse(yield t.load(e.config)):null!==(r=e.config)&&void 0!==r?r:{},o=lr(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),o?{patch:o}:{}),n?{config:n}:{})}))}function Lr(e,t={}){var r;return i(this,void 0,void 0,(function*(){const n=document.createElement("div");n.classList.add("vega-embed-wrapper");const o=document.createElement("div");n.appendChild(o);const i=!0===t.actions||!1===t.actions?t.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},null!==(r=t.actions)&&void 0!==r?r:{}),a=yield $r(o,e,Object.assign({actions:i},null!=t?t:{}));return n.value=a.view,n}))}const Sr=(...t)=>{return t.length>1&&(e.isString(t[0])&&!((r=t[0]).startsWith("http://")||r.startsWith("https://")||r.startsWith("//"))||t[0]instanceof HTMLElement||3===t.length)?$r(t[0],t[1],t[2]):Lr(t[0],t[1]);var r};return Sr.vegaLite=mr,Sr.vl=mr,Sr.container=Lr,Sr.embed=$r,Sr.vega=vr,Sr.default=$r,Sr.version="6.11.1",Sr}));
